<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Sunway Bayu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="shortcut icon" href="./assets/img/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/favicon/apple-icon.png" />

    <!-- Social -->
    <meta property="og:title" content="Sunway Bayu" />
    <meta property="og:image" content="" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="500" />
    <meta property="og:description" content="" />
    <meta property="og:url" content="" />
    <meta property="og:image:url" content="" />

    <!-- Google -->
    <meta name="title" content="Sunway Bayu" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="author" content="Digital Symphony" />

    <link rel="icon" href="./assets/img/favicon/favicon.ico" type="image/png" />

    <!-- <link rel="manifest" href="site.webmanifest"> -->
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <!-- <link rel="stylesheet" href="css/themify-icons.css" /> -->
    <link rel="stylesheet" href="css/animate.min.css" />
    <link rel="stylesheet" href="css/slick.css" />
    <link rel="stylesheet" href="css/slicknav.css" />
    <!-- <link rel="stylesheet" href="css/locomotive-scroll.css" /> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.tailwindcss.com" />
    <link rel="stylesheet" type="text/css" href="vendor/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="vendor/slick/slick-theme.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script type="text/javascript" src="//script.crazyegg.com/pages/scripts/0093/2524.js" async="async"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/tw-elements.min.css" />
    <script src="https://cdn.tailwindcss.com/3.3.0"></script>
    <link rel="stylesheet" href="css/custom.css" />
    <link rel="stylesheet" href="css/animate.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css" />

    <!-- DS Facebook Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = '2.0';
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '1097017407065773');
      fbq('track', 'PageView');
    </script>
    <noscript>
      <img
        height="1"
        width="1"
        src="https://www.facebook.com/tr?id=1097017407065773&ev=PageView
      &noscript=1"
      />
    </noscript>
    <!-- End Facebook Pixel Code -->
    
    <!-- Conversion tag -->
    <!-- Google tag (gtag.js) --> 
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-11312935802"></script> 
    <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-11312935802'); </script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            screens: {
              'sm': '640px',
              'md': '960px',
              'lg': '1024px',
              'xl': '1300px',
              '2xl': '1440px',
              '3xl': '1800px',
            }
          }
        }
      }
    </script>
  </head>

  <body class="antialiased">
    <main>
      <!-- Main navigation container -->
      <nav class="navbar mobile-bg top-0 fixed bg-white sm:bg-transparent z-50 w-[100vw] py-3 flex flex-wrap items-center justify-between">
        <div class="w-[85%] mx-auto flex flex-wrap items-center justify-between">
          <div
            class="px-0 sm:px-[7%] lg:px-0 w-full relative flex items-center justify-between lg:w-auto lg:static lg:block lg:justify-start"
          >
            <a class="text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap uppercase text-white"
              href="https://sendayan.com.my/eka-heights/"
              >
              <img class="w-[90%] mx-auto max-h-[45px] sm:max-h-[70px] object-contain" src="./assets/img/logo.png" alt="">
            </a>
            <div class="flex justify-between">
              <a
                  href="#registration"
                  class="text-[#081e40] font-MontserratMedium uppercase bg-[#613000] text-white rounded-lg py-2 px-3 sm:px-8 text-[14px] sm:text-[14px] sm:text-[15px] xl:text-[17px] 3xl:text-[18px] h-fit btn-register block lg:hidden"
                  type="button"
                  style="transition: all 0.15s ease 0s;"
                >
                  Register Now           
              </a>
              <button
                class="cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none"
                type="button"
                onclick="toggleNavbar('example-collapse-navbar')"
              >
                <i class="text-[#668B01] fas fa-bars"></i>
              </button>
            </div>
          </div>
          <div
            class="lg:flex flex-grow items-center bg-white lg:bg-transparent lg:shadow-none hidden"
            id="example-collapse-navbar"
          >
            <ul class="flex flex-col lg:flex-row list-none lg:ml-auto">
              <li class="flex items-center justify-center py-4 lg:py-0 lg:mr-8">
                <a
                  class="text-[#613000] font-MontserratMedium uppercase text-[14px] sm:text-[15px] xl:text-[20px] 3xl:text-[18px] tracking-[2px]"
                  href="#features"
                  >Features
                </a>
              </li>
              <li class="flex items-center justify-center py-4 lg:py-0 lg:mr-8">
                <a
                  class="text-[#613000] font-MontserratMedium uppercase text-[14px] sm:text-[15px] xl:text-[20px] 3xl:text-[18px] tracking-[2px]"
                  href="#gallery"
                  >Gallery
                </a>
              </li>
              <li class="flex items-center justify-center py-4 lg:py-0 lg:mr-8">
                <a
                  class="text-[#613000] font-MontserratMedium uppercase text-[14px] sm:text-[15px] xl:text-[20px] 3xl:text-[18px] tracking-[2px]"
                  href="#location"
                  >Location
                </a>
              </li>
              <li class="flex items-center hidden lg:flex">
                <a
                  href="#registration"
                  class="text-white font-MontserratMedium uppercase bg-[#613000] rounded-lg py-2 px-8 text-[14px] sm:text-[15px] xl:text-[20px] 3xl:text-[18px] flex justify-center items-center btn-register"
                  type="button"
                  style="transition: all 0.15s ease 0s;"
                >
                  Register Now               
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <section class="relative bg-[#FFF1ED] w-full min-h-[100vh]">
        <!-- Section here  -->
      </section>

    </main>

    <script src="js/jquery.slicknav.min.js"></script>
    <!-- <script src="js/locomotive-scroll.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/tw-elements.umd.min.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script> 
    <script src="js/custom.js"></script>
  </body>
  <script>
    function toggleNavbar(collapseID) {
      document.getElementById(collapseID).classList.toggle("hidden");
      document.getElementById(collapseID).classList.toggle("block");
    }
  </script>
  <script type="text/javascript">
    $(document).ready(function () {  
      $('.gallery-slider').owlCarousel({
        loop: true,
        items: 1,
        navText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>'],
        nav: true,
        autoplay: false,
        dots: true,
        dotsEach:true,
        smartSpeed: 1500,
        responsiveClass: true,
        responsive: {
          0: {
            margin: 10,
            stagePadding: 0,
          },
          768: {
            margin: 10,
            stagePadding: 120,
          },
          1024: {
            margin: 30,
            stagePadding: 200,
          },
          1280: {
            margin: 30,
            stagePadding: 300,
          },
        },
      });
      
      // registration_Form
      var url_string = window.location.href;
      var url = new URL(url_string);
      var sourceType = url.searchParams.get("s");
      $('#source_param').attr('value',sourceType)
      const urlSearchParams = new URLSearchParams(window.location.search);
      const params = Object.fromEntries(urlSearchParams.entries());

      const filtered = Object.keys(params)
              .filter(key => key.startsWith("utm_"))
              .reduce((obj, key) => {
                  obj[key] = params[key];
                  return obj;
              }, {});

      $('#registration-form').submit(function (event){
        if ($("#registration-form")[0].checkValidity() === false) {
          event.stopPropagation();
        } else {
          $('.progress-bar').fadeIn('slow');
          $('#register_btn').attr('disabled', true);
        }
      });

      $('#registration-form').submit(function(event){
          event.preventDefault();

          if ($('#registration-form')[0].checkValidity() === false) {
              event.stopPropagation();
          } else {  
              var nexcrmlog;
              var dblog;
              var func = $('#function').val(); 
              var source_param = $('#source_param').val(); 
              var name = $('#name').val();
              var email = $('#email').val();
              var phone = $('#phone').val(); 
              var city = $('#city').val(); 

              let payload = {
                  "name" : name,
                  "email" : email,
                  "phone" : phone, 
                  "city" : city,
                  "source" : sourceType,
                  "utm_sources" : Object.keys(filtered).length ? JSON.stringify(filtered) : null,
              };

              var MHub = {
                form_id: 'd2f244ed-f562-4cda-a0e9-05238eb3d24b',
                form_url: 'https://sendayan.com.my/eka-heights/',
                form_name: 'Eka Heights 3 New Landing Page',
                name: name,
                email: email,
                mobile_country_code: "MY",
                mobile: phone,
                city: city,
              };
            
              $.ajax({
                type: 'POST',
                url: 'https://api.lead.mhub.my/submissions',
                data: MHub,
                headers: {
                  'x-api-key': '07T8VmdpLm3X0tgl181FW9TNHpeym7kgalx3sXBp',
                },
                success: function(res) {
                  console.log(res);
                },
                error: function(err) {
                  console.log(err);
                },
              });

              $.ajax({
                  type: "POST",
                  // url: "https://q0oiqtwjkh.execute-api.ap-southeast-1.amazonaws.com/dev/eka-heights/contacts", //staging API
                  url: "https://l9u00k1z29.execute-api.ap-southeast-1.amazonaws.com/prod/eka-heights/contacts",
                  contentType: 'application/json',
                  data: JSON.stringify(payload),
                  success: function(res){
                      window.location.href = 'thankyou.html';
                  },
                  error: function(jq, text, error){
                  console.log(error);
                  }
              });
          }
      });
    });
  </script>
</html>
